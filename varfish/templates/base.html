{% extends 'projectroles/base_site.html' %}

{% load static %}
{% load projectroles_common_tags %}

{% block head_javascript %}
  {% get_django_setting 'SENTRY_DSN' as sentry_dsn %}

  {% if sentry_dsn %}
  <script
    src="{% static 'js/vendor/sentry-6.2.4.min.js' %}"
    integrity="sha384-b3mYy/x0ZxlqU5OjYvVD7RczftJVOXmpHSmrcqpL4c+kBSXWEnRL2Puv9eMjYmDq"
    crossorigin="anonymous"
  ></script>
  {% endif %}

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script type="text/javascript" src="{% static 'js/vendor/html5shiv-3.7.3.min.js' %}"></script>
  <![endif]-->

  <!-- Required by Bootstrap v4 -->
  <script type="text/javascript" src="{% static 'js/vendor/jquery-3.2.1.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/vendor/popper-1.14.3.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/vendor/bootstrap-4.1.3.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/vendor/jquery.dataTables.min.js' %}"></script>
  <!-- Bootstrap select plugin for multiple-select dropdown menus -->
  <script type="text/javascript" src="{% static 'js/vendor/bootstrap-select-1.13.5.min.js' %}"></script>
  <!-- Downloaded from https://github.com/Nodws/bootstrap4-tagsinput -->
  <script type="text/javascript" src="{% static "js/vendor/tagsinput-0.8.0.js" %}"></script>

  {% if sentry_dsn  %}
  <script type="text/javascript">
    Sentry.init({
      dsn: "{{ sentry_dsn }}",
      release: "varfish-web@{% site_version %}",
    })
  </script>
  {% endif %}

{% endblock head_javascript %}

{% block javascript %}
  <script type="text/javascript" src="{% static 'js/vendor/tether-1.4.1.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/vendor/shepherd-1.8.1.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/vendor/clipboard-2.0.0.min.js' %}"></script>

  <!-- Set variable for django_su warning message display. -->
  <script type="text/javascript">
    let is_su = {% if IS_SU %}true{% else %}false{% endif %};
    let su_escape_url = {% url "su_logout" %};
    $(document).ready(function() {
      // This line will add tagsinput to the project app settings page.
      // Unfortunately this is included in every page now, but there is currently no other workaround.
      $("#id_settings\\.variants\\.user_defined_tags").tagsinput({
          // Make badges gray
          tagClass: "badge badge-secondary",
          // The passed list is separated by semicolons
          delimiter: ";"
      });
    });
  </script>
  <!-- The logic for the django_su warning is in ``js/project.js``. -->
  <script type="text/javascript" src="{% static 'js/project.js' %}"></script>
{% endblock javascript %}

{% block css %}
  <!-- CSS includes -->

  <!-- Fix for pull-right/pull-left bug when including imports -->
  <style type="text/css">
    .pull-right {
      float: right;
    }

    .pull-left {
      float: left;
    }
  </style>

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" type="text/css" href="{% static 'font-awesome-4.7.0/css/font-awesome.min.css' %}" />

  <!-- Bootstrap 4 CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/bootstrap-4.1.3.min.css' %}" />

  <!-- Bootstrap select plugin for multiple-select dropdown menus -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/bootstrap-select-1.13.5.css' %}" />

  <!-- Shepherd theme -->
  <link rel="stylesheet" type="text/css" href="{% static 'projectroles/css/shepherd-theme-sodar.css' %}" />

  <!-- Projectroles custom CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'projectroles/css/projectroles.css' %}" />

  <!-- Project CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/project.css' %}" />

  <!-- Datatables CSS -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/jquery.dataTables.min.css' %}" />

  <!-- Downloaded from https://github.com/Nodws/bootstrap4-tagsinput -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/vendor/tagsinput-0.8.0.css' %}" />

{% endblock css %}

{% block head_extend %}
    <link rel="icon" type="image/png" href="{% static 'images/favicon/favicon-32x32.png' %}" sizes="32x32" />
    <script src="{% static 'js/vendor/jsrender-0.9.91.js' %}"></script>
{% endblock head_extend %}
